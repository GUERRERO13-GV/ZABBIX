<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zabbix — Proyecto Monitorización</title>
  <link rel="icon" type="image/x-icon" href="IMAGES/LOGO.JPG">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #454545;
      color: #111;
    }

    /* NAVIGATION */
    nav {
      display: flex;
      gap: 25px;
      padding: 16px;
      background: #c40000;
      align-items: center;
    }
    nav img {
      height: 40px;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      font-size: 16px;
    }
    nav a:hover{
      text-decoration: underline;
    }

    /* PAGE SYSTEM */
    .page {
      display: none;
      max-width: 1000px;
      margin: auto;
      padding: 20px;
      background: white;
      margin-top: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    }
    .active {
      display: block;
    }

    h1, h2 {
      text-align: center;
      color: #c40000;
    }

    iframe, video {
      width: 100%;
      border-radius: 10px;
      border: 1px solid #ddd;
    }
    /* COPY BUTTON */
  .code-box {
    position: relative;
    background: #0f172a;
    color: white;
    padding: 14px;
    border-radius: 10px;
    font-family: monospace;
    margin-bottom: 18px;
    overflow-x: auto;
    white-space: pre-wrap;
  }
  .copy-btn {
    position: absolute;
    top: 8px;
    right: 8px;
    background: #c40000;
    color: white;
    border: none;
    padding: 6px 10px;
    font-size: 12px;
    cursor: pointer;
    border-radius: 6px;
  }
  .copy-btn:active {
    background: #910000;
  }
  /* FLIPBOOK */
.flipbook-wrap {
  max-width: 980px;
  margin: 18px auto;
  perspective: 2000px;
}
.info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.info-card {
  padding: 20px;
  background: #fafafa;
  border-radius: 10px;
  border: 1px solid #ddd;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.info-card h3 {
  color: #c40000;
}
</style>
</head>
<script>
  function copyCode(id) {
    const element = document.getElementById(id);
    const text = element.innerText.trim();
    navigator.clipboard.writeText(text);
    alert("Código copiado al portapapeles");
  }
</script>
<script src="jquery.min.js"></script>
<script src="pdf.min.js"></script>
<script src="turn.min.js"></script>

<script>
// Configurar worker local
pdfjsLib.GlobalWorkerOptions.workerSrc = 'pdf.worker.min.js';

const url = 'MONITORIZACIÓN.pdf';
const scale = 1.2;

async function renderPage(pdf, num) {
  const page = await pdf.getPage(num);
  const viewport = page.getViewport({ scale });

  const canvas = document.createElement("canvas");
  canvas.width = viewport.width;
  canvas.height = viewport.height;

  const ctx = canvas.getContext("2d");
  await page.render({ canvasContext: ctx, viewport }).promise;

  return canvas;
}

(async () => {
  const loadingTask = pdfjsLib.getDocument(url);
  const pdf = await loadingTask.promise;
  const total = pdf.numPages;

  const flipbook = document.getElementById("flipbook");

  // Página inicial
  const portada = document.createElement("div");
  portada.className = "flip-page";
  portada.innerHTML = "<h2 style='color:#c40000;'>Documento</h2>";
  flipbook.appendChild(portada);

  // Renderizar páginas del PDF
  for (let i = 1; i <= total; i++) {
    const pageCanvas = await renderPage(pdf, i);

    const pageDiv = document.createElement("div");
    pageDiv.className = "flip-page";
    pageDiv.appendChild(pageCanvas);
    flipbook.appendChild(pageDiv);
  }

  // Página final
  const finalPage = document.createElement("div");
  finalPage.className = "flip-page";
  finalPage.innerHTML = "<h2 style='color:#c40000;'>Fin</h2>";
  flipbook.appendChild(finalPage);

  // Activar Turn.js
  $('#flipbook').turn({
    width: 900,
    height: 620,
    autoCenter: true,
    display: 'double'
  });

  document.getElementById("flipLoading").style.display = "none";
})();

// Botones
document.getElementById("prevBtn").onclick = () => $('#flipbook').turn('previous');
document.getElementById("nextBtn").onclick = () => $('#flipbook').turn('next');
</script>

<body>

<nav>
  <img src="IMAGES/LOGO.JPG" alt="logo Zabbix">
  <a href="#" onclick="show('inicio')">Inicio</a>
  <a href="#" onclick="show('pdf')">Documento PDF</a>
  <a href="#" onclick="show('instalacion')" style="margin-left:20px; color:white; font-weight:bold;">Instalación</a>
  <a href="#" onclick="show('video')">Video Práctica</a>
</nav>
  

<!-- PAGINA INICIO -->
<section id="inicio" class="page active">
  <h1>Proyecto de Monitorización con Zabbix</h1><br><br><br><br>
  <p style="text-align:center; font-size:17px; max-width:700px; margin:auto;">
    Bienvenido al proyecto. Aquí podrás visualizar el documento en PDF y la práctica en video,<br>
    todo con el estilo original de Zabbix.
  </p><br><br><br><br><br><br>
<div class="info-grid">
  <div class="info-card">
    <h3>¿Qué es Zabbix?</h3>
    <p>Un sistema de monitorización profesional usado en empresas para supervisar redes, servidores y servicios.</p>
  </div>

  <div class="info-card">
    <h3>¿Qué incluye este proyecto?</h3>
    <p>Instalación en Ubuntu, agente, SNMP, gráfico, PDF completo y práctica en video.</p>
  </div>

  <div class="info-card">
    <h3>¿Qué he aprendido?</h3>
    <p>SNMP, OIDs, monitorización real, servicios, logs, instalación y despliegue de herramientas.</p>
  </div>
</div>
</div>

</section>

<!-- PAGINA PDF -->
<section id="pdf" class="page">
  <h2>Documento — Monitorización (PDF)</h2>
  <a href="https://887a087b-trial.flowpaper.com/MonotorizacinRedesagv/" class="fp-embed" data-fp-width="100%" data-fp-height="100%" style="max-width: 100%"></a><script async defer src="https://cdn-online.flowpaper.com/zine/3.9.4/js/embed.min.js"></script>
</section>

<!-- PAGINA VIDEO -->
<section id="video" class="page">
  <h2>Muestra Práctica Zabbix</h2>
  <video controls height="450">
    <source src="MP4/ZABBIX-PRÁCTICA.mp4" type="video/mp4">
  </video>
</section>

<!-- PAGINA INSTALACION ZABBIX -->
<section id="instalacion" class="page">
  <h2>Instalación de Zabbix en Servidor Ubuntu</h2>
  <p style="font-size:16px; line-height:1.6;">
    Esta es la guía completa de cómo instalé Zabbix en un servidor Ubuntu paso a paso.
  </p>

  <h3 style="color:#c40000;">1. Actualizar el sistema</h3>
  <div class="code-box" id="cmd1"><button class="copy-btn" onclick="copyCode('cmd1')">Copiar</button>
    sudo apt update && sudo apt upgrade -y
  </div>

  <h3 style="color:#c40000;">2. Añadir repositorio oficial de Zabbix</h3>
  <div class="code-box" id="cmd2"><button class="copy-btn" onclick="copyCode('cmd2')">Copiar</button>
    wget https://repo.zabbix.com/zabbix/6.4/ubuntu/pool/main/z/zabbix-release/zabbix-release_6.4-1+ubuntu22.04_all.deb
    sudo dpkg -i zabbix-release_6.4-1+ubuntu22.04_all.deb
    sudo apt update
  </div>

  <h3 style="color:#c40000;">3. Instalar paquetes principales de Zabbix</h3>
  <div class="code-box" id="cmd3"><button class="copy-btn" onclick="copyCode('cmd3')">Copiar</button>
    sudo apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-agent -y
  </div>

  <h3 style="color:#c40000;">4. Crear base de datos</h3>
  <div class="code-box" id="cmd4"><button class="copy-btn" onclick="copyCode('cmd4')">Copiar</button>
    sudo apt install mariadb-server -y

    sudo mysql -e "CREATE DATABASE zabbix CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;"
    sudo mysql -e "CREATE USER 'zabbix'@'localhost' IDENTIFIED BY 'tu_contraseña';"
    sudo mysql -e "GRANT ALL PRIVILEGES ON zabbix.* TO 'zabbix'@'localhost';"
    sudo mysql -e "FLUSH PRIVILEGES;"
  </div>

  <h3 style="color:#c40000;">5. Importar datos iniciales</h3>
  <div class="code-box" id="cmd5"><button class="copy-btn" onclick="copyCode('cmd5')">Copiar</button>
    zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix
  </div>

  <h3 style="color:#c40000;">6. Activar servicios</h3>
  <div class="code-box" id="cmd6"><button class="copy-btn" onclick="copyCode('cmd6')">Copiar</button>
    sudo systemctl restart zabbix-server zabbix-agent apache2
    sudo systemctl enable zabbix-server zabbix-agent apache2
  </div>
  <p>
    Después de estos pasos, Zabbix ya está funcionando.  
    Accede desde un navegador con:<br><br>
    <b>http://TU_IP/zabbix</b><br><br>
    Usuario: <b>Admin</b><br>
    Contraseña: <b>zabbix</b>
  </p>
</section>

<script>
function show(id) {
document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
document.getElementById(id).classList.add('active');
}
</script>


<script>
function copyCode(id) {
const element = document.getElementById(id);
const text = element.innerText.trim();
navigator.clipboard.writeText(text);


const btn = element.querySelector('.copy-btn');
const oldText = btn.innerText;
btn.innerText = "Copiado✓";
btn.style.background = "#555";


setTimeout(() => {
btn.innerText = oldText;
btn.style.background = "#c40000";
}, 1200);
}
</script>
</body>
</html>
